import{d as n,e as v,f as h,a as o,m as b,T as k,t as x,i as $,A as y,g as T}from"./index-BwdngS6L.js";import{a as _}from"./users-BxCYHdEh.js";import"./utils-CGYcAGdn.js";var C=x('<form class="flex flex-col gap-6"><div class=" flex flex-col sm:justify-start w-full"><input class=bg-gray-300/20 type=text autocomplete=none required name=token placeholder="activation token"></div><div class="w-full flex justify-end"><button class=button type=submit>Activate');const S=l=>{const[r,i]=n(""),[t,c]=n(),u=v(),d=e=>{console.log("Input changed to",e.currentTarget.value),i(e.currentTarget.value)},p=h(()=>(console.log(r()),r())),f=async e=>{e.preventDefault();let a=await _(p());c(await a),console.log("activate-response",t()),t()?.user?.activated&&u("/"),t()?.error?.token&&alert({variant:"error",title:"Error",description:t()?.error?.token})};return o(k,b(l,{get children(){var e=C(),a=e.firstChild,g=a.firstChild,s=a.nextSibling,m=s.firstChild;return e.addEventListener("submit",f),g.$$input=d,$(s,o(y,{class:"button",href:"/",children:"Cancel"}),m),e}}))};T(["input"]);export{S as default};
